/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  combineCodec,
  getArrayDecoder,
  getArrayEncoder,
  getStructDecoder,
  getStructEncoder,
  getU16Decoder,
  getU16Encoder,
  getU32Decoder,
  getU32Encoder,
  getU64Decoder,
  getU64Encoder,
  type Codec,
  type Decoder,
  type Encoder,
} from 'gill';

export type SharesUpdated = {
  trackId: bigint;
  newShares: Array<number>;
  oldVersion: number;
  newVersion: number;
};

export type SharesUpdatedArgs = {
  trackId: number | bigint;
  newShares: Array<number>;
  oldVersion: number;
  newVersion: number;
};

export function getSharesUpdatedEncoder(): Encoder<SharesUpdatedArgs> {
  return getStructEncoder([
    ['trackId', getU64Encoder()],
    ['newShares', getArrayEncoder(getU16Encoder())],
    ['oldVersion', getU32Encoder()],
    ['newVersion', getU32Encoder()],
  ]);
}

export function getSharesUpdatedDecoder(): Decoder<SharesUpdated> {
  return getStructDecoder([
    ['trackId', getU64Decoder()],
    ['newShares', getArrayDecoder(getU16Decoder())],
    ['oldVersion', getU32Decoder()],
    ['newVersion', getU32Decoder()],
  ]);
}

export function getSharesUpdatedCodec(): Codec<
  SharesUpdatedArgs,
  SharesUpdated
> {
  return combineCodec(getSharesUpdatedEncoder(), getSharesUpdatedDecoder());
}
