/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  containsBytes,
  fixEncoderSize,
  getBytesEncoder,
  type Address,
  type ReadonlyUint8Array,
} from 'gill';
import {
  type ParsedCreateEscrowAtaInstruction,
  type ParsedEscrowDepositInstruction,
  type ParsedEscrowDistributeInstruction,
  type ParsedInitializeTrackInstruction,
  type ParsedMintStemNftInstruction,
  type ParsedStemMintInstruction,
  type ParsedUpdateSharesInstruction,
} from '../instructions';

export const MUZICA_PROGRAM_ADDRESS =
  '9NVaiC6n62KnMtVYUCcfdDY1KdAFNyZmnopdhTcvHnwJ' as Address<'9NVaiC6n62KnMtVYUCcfdDY1KdAFNyZmnopdhTcvHnwJ'>;

export enum MuzicaAccount {
  Track,
}

export function identifyMuzicaAccount(
  account: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): MuzicaAccount {
  const data = 'data' in account ? account.data : account;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([148, 45, 9, 235, 14, 15, 36, 159])
      ),
      0
    )
  ) {
    return MuzicaAccount.Track;
  }
  throw new Error(
    'The provided account could not be identified as a muzica account.'
  );
}

export enum MuzicaInstruction {
  CreateEscrowAta,
  EscrowDeposit,
  EscrowDistribute,
  InitializeTrack,
  MintStemNft,
  StemMint,
  UpdateShares,
}

export function identifyMuzicaInstruction(
  instruction: { data: ReadonlyUint8Array } | ReadonlyUint8Array
): MuzicaInstruction {
  const data = 'data' in instruction ? instruction.data : instruction;
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([203, 225, 65, 46, 132, 152, 224, 108])
      ),
      0
    )
  ) {
    return MuzicaInstruction.CreateEscrowAta;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([137, 100, 252, 219, 140, 205, 146, 215])
      ),
      0
    )
  ) {
    return MuzicaInstruction.EscrowDeposit;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([130, 202, 39, 127, 212, 7, 91, 213])
      ),
      0
    )
  ) {
    return MuzicaInstruction.EscrowDistribute;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([14, 160, 200, 167, 109, 13, 15, 196])
      ),
      0
    )
  ) {
    return MuzicaInstruction.InitializeTrack;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([193, 29, 124, 122, 204, 64, 87, 62])
      ),
      0
    )
  ) {
    return MuzicaInstruction.MintStemNft;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([200, 99, 1, 221, 243, 249, 7, 7])
      ),
      0
    )
  ) {
    return MuzicaInstruction.StemMint;
  }
  if (
    containsBytes(
      data,
      fixEncoderSize(getBytesEncoder(), 8).encode(
        new Uint8Array([31, 59, 15, 141, 227, 50, 179, 253])
      ),
      0
    )
  ) {
    return MuzicaInstruction.UpdateShares;
  }
  throw new Error(
    'The provided instruction could not be identified as a muzica instruction.'
  );
}

export type ParsedMuzicaInstruction<
  TProgram extends string = '9NVaiC6n62KnMtVYUCcfdDY1KdAFNyZmnopdhTcvHnwJ',
> =
  | ({
      instructionType: MuzicaInstruction.CreateEscrowAta;
    } & ParsedCreateEscrowAtaInstruction<TProgram>)
  | ({
      instructionType: MuzicaInstruction.EscrowDeposit;
    } & ParsedEscrowDepositInstruction<TProgram>)
  | ({
      instructionType: MuzicaInstruction.EscrowDistribute;
    } & ParsedEscrowDistributeInstruction<TProgram>)
  | ({
      instructionType: MuzicaInstruction.InitializeTrack;
    } & ParsedInitializeTrackInstruction<TProgram>)
  | ({
      instructionType: MuzicaInstruction.MintStemNft;
    } & ParsedMintStemNftInstruction<TProgram>)
  | ({
      instructionType: MuzicaInstruction.StemMint;
    } & ParsedStemMintInstruction<TProgram>)
  | ({
      instructionType: MuzicaInstruction.UpdateShares;
    } & ParsedUpdateSharesInstruction<TProgram>);
